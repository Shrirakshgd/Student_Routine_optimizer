{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 40, "column": 0}, "map": {"version":3,"sources":["file:///R:/SHRIRAKSH/Student_Routine_optimizer/Student_Routine_optimizer/frontend/pages/register.js"],"sourcesContent":["// pages/register.js\r\nimport Head from 'next/head';\r\nimport { useState } from 'react';\r\nimport { useRouter } from 'next/router';\r\nimport { motion } from 'framer-motion';\r\nimport { API_BASE, HERO_IMAGE_BACKEND } from '../components/api';\r\n\r\nexport default function RegisterPage() {\r\n  const router = useRouter();\r\n\r\n  const [name, setName] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [err, setErr] = useState('');\r\n  const [success, setSuccess] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  async function safeFetchJSON(res) {\r\n    const text = await res.text();\r\n    try {\r\n      return text ? JSON.parse(text) : {};\r\n    } catch {\r\n      throw new Error(`Server error (${res.status})`);\r\n    }\r\n  }\r\n\r\n  async function handleSubmit(e) {\r\n    e.preventDefault();\r\n    setErr('');\r\n    setSuccess('');\r\n    setLoading(true);\r\n\r\n    if (!name.trim() || !email.trim() || !password.trim()) {\r\n      setErr('All fields are required');\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const res = await fetch(`${API_BASE}/api/auth/register`, {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        credentials: 'include',\r\n        body: JSON.stringify({ name, email, password }),\r\n      });\r\n\r\n      const body = await safeFetchJSON(res);\r\n      if (!res.ok) throw new Error(body.error || body.message);\r\n\r\n      setSuccess('Account created successfully! Redirecting...');\r\n      setTimeout(() => router.replace('/login'), 1300);\r\n    } catch (e) {\r\n      setErr(e.message || 'Registration failed');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Head>\r\n        <title>Register — Student Optimizer</title>\r\n      </Head>\r\n\r\n      {/* Background */}\r\n      <div className=\"min-h-screen flex items-center justify-center bg-[#05060f] relative overflow-hidden px-4\">\r\n\r\n        {/* Ambient Glows */}\r\n        <div className=\"absolute -top-40 -left-40 w-96 h-96 bg-cyan-500/20 blur-3xl rounded-full\" />\r\n        <div className=\"absolute bottom-0 right-0 w-96 h-96 bg-fuchsia-600/20 blur-3xl rounded-full\" />\r\n\r\n        {/* Card */}\r\n        <motion.div\r\n          initial={{ opacity: 0, y: 30, scale: 0.96 }}\r\n          animate={{ opacity: 1, y: 0, scale: 1 }}\r\n          transition={{ duration: 0.6, ease: 'easeOut' }}\r\n          className=\"relative w-full max-w-md bg-white/5 backdrop-blur-xl border border-white/10 rounded-2xl shadow-2xl p-8\"\r\n        >\r\n\r\n          {/* Header */}\r\n          <motion.div\r\n            initial={{ opacity: 0, scale: 0.9 }}\r\n            animate={{ opacity: 1, scale: 1 }}\r\n            transition={{ delay: 0.2 }}\r\n            className=\"flex flex-col items-center mb-8 text-center\"\r\n          >\r\n            <img\r\n              src={HERO_IMAGE_BACKEND}\r\n              alt=\"Logo\"\r\n              className=\"w-20 h-20 rounded-xl border border-cyan-400/40 shadow-lg\"\r\n            />\r\n            <h1 className=\"text-3xl font-bold text-cyan-300 mt-4 tracking-wide\">\r\n              Create Account\r\n            </h1>\r\n            <p className=\"text-sm text-slate-400 mt-1\">\r\n              Join the AI-powered study system\r\n            </p>\r\n          </motion.div>\r\n\r\n          {/* Form */}\r\n          <form onSubmit={handleSubmit} className=\"space-y-5\">\r\n\r\n            {/* Name */}\r\n            <motion.input\r\n              initial={{ opacity: 0, x: -20 }}\r\n              animate={{ opacity: 1, x: 0 }}\r\n              transition={{ delay: 0.25 }}\r\n              value={name}\r\n              onChange={(e) => setName(e.target.value)}\r\n              placeholder=\"Full Name\"\r\n              className=\"w-full p-3 rounded-lg bg-white/10 text-white placeholder-slate-400\r\n              border border-white/20 focus:ring-2 focus:ring-cyan-500 outline-none\"\r\n            />\r\n\r\n            {/* Email */}\r\n            <motion.input\r\n              initial={{ opacity: 0, x: 20 }}\r\n              animate={{ opacity: 1, x: 0 }}\r\n              transition={{ delay: 0.3 }}\r\n              value={email}\r\n              onChange={(e) => setEmail(e.target.value)}\r\n              placeholder=\"Email Address\"\r\n              className=\"w-full p-3 rounded-lg bg-white/10 text-white placeholder-slate-400\r\n              border border-white/20 focus:ring-2 focus:ring-cyan-500 outline-none\"\r\n            />\r\n\r\n            {/* Password */}\r\n            <motion.input\r\n              initial={{ opacity: 0, y: 16 }}\r\n              animate={{ opacity: 1, y: 0 }}\r\n              transition={{ delay: 0.35 }}\r\n              type=\"password\"\r\n              value={password}\r\n              onChange={(e) => setPassword(e.target.value)}\r\n              placeholder=\"Password\"\r\n              className=\"w-full p-3 rounded-lg bg-white/10 text-white placeholder-slate-400\r\n              border border-white/20 focus:ring-2 focus:ring-cyan-500 outline-none\"\r\n            />\r\n\r\n            {/* Error */}\r\n            {err && (\r\n              <motion.div\r\n                initial={{ opacity: 0, y: -6 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                className=\"text-red-300 bg-red-500/20 border border-red-400/30 p-2 rounded-lg text-sm\"\r\n              >\r\n                {err}\r\n              </motion.div>\r\n            )}\r\n\r\n            {/* Success */}\r\n            {success && (\r\n              <motion.div\r\n                initial={{ opacity: 0, y: -6 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                className=\"text-green-300 bg-green-500/20 border border-green-400/30 p-2 rounded-lg text-sm\"\r\n              >\r\n                {success}\r\n              </motion.div>\r\n            )}\r\n\r\n            {/* Register Button */}\r\n            <motion.button\r\n              whileHover={{ scale: 1.03 }}\r\n              whileTap={{ scale: 0.97 }}\r\n              disabled={loading}\r\n              type=\"submit\"\r\n              className=\"w-full py-3 rounded-lg bg-gradient-to-r from-cyan-500 to-fuchsia-600\r\n              text-black font-semibold shadow-lg hover:shadow-cyan-500/30 transition disabled:opacity-50\"\r\n            >\r\n              {loading ? 'Creating account…' : 'Register'}\r\n            </motion.button>\r\n\r\n            {/* Login Redirect */}\r\n            <motion.button\r\n              whileHover={{ scale: 1.03 }}\r\n              type=\"button\"\r\n              onClick={() => router.push('/login')}\r\n              className=\"w-full py-3 rounded-lg border border-cyan-400/40 text-cyan-300\r\n              hover:bg-cyan-400/10 transition font-medium\"\r\n            >\r\n              Already have an account? Login\r\n            </motion.button>\r\n\r\n          </form>\r\n        </motion.div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n"],"names":[],"mappings":"AAAA,oBAAoB;;;;;;AACpB;AACA;AACA;AACA;AACA;;;;;;;;;;;AAEe,SAAS;IACtB,MAAM,SAAS,IAAA,gJAAS;IAExB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,+GAAQ,EAAC;IACjC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,+GAAQ,EAAC;IACnC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,+GAAQ,EAAC;IACzC,MAAM,CAAC,KAAK,OAAO,GAAG,IAAA,+GAAQ,EAAC;IAC/B,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,+GAAQ,EAAC;IACvC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,+GAAQ,EAAC;IAEvC,eAAe,cAAc,GAAG;QAC9B,MAAM,OAAO,MAAM,IAAI,IAAI;QAC3B,IAAI;YACF,OAAO,OAAO,KAAK,KAAK,CAAC,QAAQ,CAAC;QACpC,EAAE,OAAM;YACN,MAAM,IAAI,MAAM,CAAC,cAAc,EAAE,IAAI,MAAM,CAAC,CAAC,CAAC;QAChD;IACF;IAEA,eAAe,aAAa,CAAC;QAC3B,EAAE,cAAc;QAChB,OAAO;QACP,WAAW;QACX,WAAW;QAEX,IAAI,CAAC,KAAK,IAAI,MAAM,CAAC,MAAM,IAAI,MAAM,CAAC,SAAS,IAAI,IAAI;YACrD,OAAO;YACP,WAAW;YACX;QACF;QAEA,IAAI;YACF,MAAM,MAAM,MAAM,MAAM,GAAG,kIAAQ,CAAC,kBAAkB,CAAC,EAAE;gBACvD,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,aAAa;gBACb,MAAM,KAAK,SAAS,CAAC;oBAAE;oBAAM;oBAAO;gBAAS;YAC/C;YAEA,MAAM,OAAO,MAAM,cAAc;YACjC,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM,KAAK,KAAK,IAAI,KAAK,OAAO;YAEvD,WAAW;YACX,WAAW,IAAM,OAAO,OAAO,CAAC,WAAW;QAC7C,EAAE,OAAO,GAAG;YACV,OAAO,EAAE,OAAO,IAAI;QACtB,SAAU;YACR,WAAW;QACb;IACF;IAEA,qBACE;;0BACE,qKAAC,4IAAI;0BACH,cAAA,qKAAC;8BAAM;;;;;;;;;;;0BAIT,qKAAC;gBAAI,WAAU;;kCAGb,qKAAC;wBAAI,WAAU;;;;;;kCACf,qKAAC;wBAAI,WAAU;;;;;;kCAGf,qKAAC,0IAAM,CAAC,GAAG;wBACT,SAAS;4BAAE,SAAS;4BAAG,GAAG;4BAAI,OAAO;wBAAK;wBAC1C,SAAS;4BAAE,SAAS;4BAAG,GAAG;4BAAG,OAAO;wBAAE;wBACtC,YAAY;4BAAE,UAAU;4BAAK,MAAM;wBAAU;wBAC7C,WAAU;;0CAIV,qKAAC,0IAAM,CAAC,GAAG;gCACT,SAAS;oCAAE,SAAS;oCAAG,OAAO;gCAAI;gCAClC,SAAS;oCAAE,SAAS;oCAAG,OAAO;gCAAE;gCAChC,YAAY;oCAAE,OAAO;gCAAI;gCACzB,WAAU;;kDAEV,qKAAC;wCACC,KAAK,4IAAkB;wCACvB,KAAI;wCACJ,WAAU;;;;;;kDAEZ,qKAAC;wCAAG,WAAU;kDAAsD;;;;;;kDAGpE,qKAAC;wCAAE,WAAU;kDAA8B;;;;;;;;;;;;0CAM7C,qKAAC;gCAAK,UAAU;gCAAc,WAAU;;kDAGtC,qKAAC,0IAAM,CAAC,KAAK;wCACX,SAAS;4CAAE,SAAS;4CAAG,GAAG,CAAC;wCAAG;wCAC9B,SAAS;4CAAE,SAAS;4CAAG,GAAG;wCAAE;wCAC5B,YAAY;4CAAE,OAAO;wCAAK;wCAC1B,OAAO;wCACP,UAAU,CAAC,IAAM,QAAQ,EAAE,MAAM,CAAC,KAAK;wCACvC,aAAY;wCACZ,WAAU;;;;;;kDAKZ,qKAAC,0IAAM,CAAC,KAAK;wCACX,SAAS;4CAAE,SAAS;4CAAG,GAAG;wCAAG;wCAC7B,SAAS;4CAAE,SAAS;4CAAG,GAAG;wCAAE;wCAC5B,YAAY;4CAAE,OAAO;wCAAI;wCACzB,OAAO;wCACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;wCACxC,aAAY;wCACZ,WAAU;;;;;;kDAKZ,qKAAC,0IAAM,CAAC,KAAK;wCACX,SAAS;4CAAE,SAAS;4CAAG,GAAG;wCAAG;wCAC7B,SAAS;4CAAE,SAAS;4CAAG,GAAG;wCAAE;wCAC5B,YAAY;4CAAE,OAAO;wCAAK;wCAC1B,MAAK;wCACL,OAAO;wCACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;wCAC3C,aAAY;wCACZ,WAAU;;;;;;oCAKX,qBACC,qKAAC,0IAAM,CAAC,GAAG;wCACT,SAAS;4CAAE,SAAS;4CAAG,GAAG,CAAC;wCAAE;wCAC7B,SAAS;4CAAE,SAAS;4CAAG,GAAG;wCAAE;wCAC5B,WAAU;kDAET;;;;;;oCAKJ,yBACC,qKAAC,0IAAM,CAAC,GAAG;wCACT,SAAS;4CAAE,SAAS;4CAAG,GAAG,CAAC;wCAAE;wCAC7B,SAAS;4CAAE,SAAS;4CAAG,GAAG;wCAAE;wCAC5B,WAAU;kDAET;;;;;;kDAKL,qKAAC,0IAAM,CAAC,MAAM;wCACZ,YAAY;4CAAE,OAAO;wCAAK;wCAC1B,UAAU;4CAAE,OAAO;wCAAK;wCACxB,UAAU;wCACV,MAAK;wCACL,WAAU;kDAGT,UAAU,sBAAsB;;;;;;kDAInC,qKAAC,0IAAM,CAAC,MAAM;wCACZ,YAAY;4CAAE,OAAO;wCAAK;wCAC1B,MAAK;wCACL,SAAS,IAAM,OAAO,IAAI,CAAC;wCAC3B,WAAU;kDAEX;;;;;;;;;;;;;;;;;;;;;;;;;;AASb"}}]
}